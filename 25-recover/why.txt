ğŸ›  Giáº£i thÃ­ch recover() trong Go
ğŸ“Œ 1ï¸âƒ£ recover() lÃ  gÃ¬?
recover() lÃ  má»™t built-in function trong Go.
DÃ¹ng Ä‘á»ƒ báº¯t láº¡i (handle) panic trong má»™t Goroutine.
Náº¿u cÃ³ panic xáº£y ra trong Goroutine, recover() giÃºp chÆ°Æ¡ng trÃ¬nh khÃ´ng bá»‹ crash mÃ  cÃ³ thá»ƒ xá»­ lÃ½ lá»—i vÃ  tiáº¿p tá»¥c cháº¡y.
ğŸ›  2ï¸âƒ£ recover() hoáº¡t Ä‘á»™ng tháº¿ nÃ o?
recover() chá»‰ hoáº¡t Ä‘á»™ng náº¿u Ä‘Æ°á»£c gá»i trong defer function.
Khi panic xáº£y ra, chÆ°Æ¡ng trÃ¬nh sáº½ dá»«ng thá»±c thi vÃ  cháº¡y táº¥t cáº£ defer functions.
Náº¿u recover() Ä‘Æ°á»£c gá»i trong defer, nÃ³ sáº½ báº¯t láº¡i panic vÃ  tráº£ vá» giÃ¡ trá»‹ cá»§a panic, giÃºp chÆ°Æ¡ng trÃ¬nh tiáº¿p tá»¥c cháº¡y thay vÃ¬ dá»«ng Ä‘á»™t ngá»™t.



5ï¸âƒ£ Khi nÃ o nÃªn dÃ¹ng recover()?
âœ… Báº¯t lá»—i trong server hoáº·c API handler: TrÃ¡nh chÆ°Æ¡ng trÃ¬nh crash toÃ n bá»™ náº¿u má»™t request gáº·p lá»—i.
âœ… Trong Goroutine: Náº¿u Goroutine bá»‹ panic, cÃ³ thá»ƒ recover láº¡i Ä‘á»ƒ tiáº¿p tá»¥c cháº¡y cÃ¡c pháº§n khÃ¡c cá»§a chÆ°Æ¡ng trÃ¬nh.
âœ… Trong Parser hoáº·c Validator: Giá»‘ng nhÆ° code cá»§a báº¡n, náº¿u JSON parser gáº·p lá»—i, cÃ³ thá»ƒ tráº£ vá» lá»—i thay vÃ¬ crash chÆ°Æ¡ng trÃ¬nh.
âŒ 6ï¸âƒ£ Khi nÃ o KHÃ”NG nÃªn dÃ¹ng recover()?
âŒ KhÃ´ng dÃ¹ng Ä‘á»ƒ che giáº¥u lá»—i nghiÃªm trá»ng: Náº¿u cÃ³ lá»—i logic quan trá»ng, tá»‘t hÆ¡n lÃ  fix lá»—i thay vÃ¬ dÃ¹ng recover() Ä‘á»ƒ bá» qua nÃ³.
âŒ KhÃ´ng dÃ¹ng recover() bÃªn ngoÃ i defer: recover() chá»‰ cÃ³ tÃ¡c dá»¥ng trong defer, náº¿u gá»i á»Ÿ nÆ¡i khÃ¡c sáº½ khÃ´ng cÃ³ hiá»‡u quáº£.