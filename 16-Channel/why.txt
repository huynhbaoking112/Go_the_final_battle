ğŸ” Channel trong Go lÃ  gÃ¬?
Trong Go, channel lÃ  má»™t cÆ¡ cháº¿ giÃºp giao tiáº¿p giá»¯a cÃ¡c goroutine má»™t cÃ¡ch an toÃ n.
NÃ³ giá»‘ng nhÆ° má»™t Ä‘Æ°á»ng á»‘ng (pipe) mÃ  má»™t goroutine cÃ³ thá»ƒ gá»­i dá»¯ liá»‡u vÃ o vÃ  goroutine khÃ¡c cÃ³ thá»ƒ nháº­n dá»¯ liá»‡u tá»« Ä‘Ã³.

ğŸ›  CÃ¡ch táº¡o channel
go
Sao chÃ©p
Chá»‰nh sá»­a
ch := make(chan int) // Táº¡o má»™t channel chá»©a kiá»ƒu int
ch lÃ  má»™t channel truyá»n dá»¯ liá»‡u kiá»ƒu int.
Máº·c Ä‘á»‹nh, channel sáº½ cháº·n náº¿u khÃ´ng cÃ³ goroutine nÃ o nháº­n dá»¯ liá»‡u.
ğŸš€ VÃ­ dá»¥ 1: Gá»­i & Nháº­n dá»¯ liá»‡u vá»›i channel
go
Sao chÃ©p
Chá»‰nh sá»­a
package main

import (
	"fmt"
)

func main() {
	ch := make(chan string) // ğŸ“¡ Táº¡o má»™t channel kiá»ƒu string

	go func() {
		ch <- "Hello from goroutine!" // ğŸš€ Gá»­i dá»¯ liá»‡u vÃ o channel
	}()

	message := <-ch // â³ Nháº­n dá»¯ liá»‡u tá»« channel
	fmt.Println(message) // âœ… In ra: Hello from goroutine!
}
ğŸ” Giáº£i thÃ­ch
1ï¸âƒ£ make(chan string) â†’ Táº¡o channel ch Ä‘á»ƒ truyá»n dá»¯ liá»‡u kiá»ƒu string.
2ï¸âƒ£ go func() { ch <- "Hello from goroutine!" }() â†’ Goroutine gá»­i "Hello from goroutine!" vÃ o channel.
3ï¸âƒ£ message := <-ch â†’ Main goroutine bá»‹ cháº·n táº¡i Ä‘Ã¢y, Ä‘á»£i Ä‘áº¿n khi nháº­n Ä‘Æ°á»£c dá»¯ liá»‡u tá»« channel.
4ï¸âƒ£ Khi nháº­n Ä‘Æ°á»£c dá»¯ liá»‡u, chÆ°Æ¡ng trÃ¬nh tiáº¿p tá»¥c vÃ  in ra "Hello from goroutine!".

ğŸ”¥ Channel giÃºp trÃ¡nh lá»—i race condition
Náº¿u báº¡n cháº¡y nhiá»u goroutine mÃ  khÃ´ng cÃ³ channel, cÃ¡c goroutine cÃ³ thá»ƒ cháº¡y láº«n lá»™n vÃ  gÃ¢y lá»—i race condition.

âŒ KhÃ´ng dÃ¹ng channel â†’ Race Condition
go
Sao chÃ©p
Chá»‰nh sá»­a
package main

import (
	"fmt"
	"time"
)

var msg string

func main() {
	go func() {
		msg = "Hello World"
	}()
	time.Sleep(1 * time.Second) // â³ Chá» nhÆ°ng khÃ´ng Ä‘áº£m báº£o dá»¯ liá»‡u an toÃ n
	fmt.Println(msg) // âŒ CÃ³ thá»ƒ in ra chuá»—i rá»—ng!
}
ğŸ’¥ Lá»—i tiá»m áº©n:

Goroutine chÆ°a cháº¯c Ä‘Ã£ hoÃ n thÃ nh trÆ°á»›c khi fmt.Println(msg) cháº¡y.
Káº¿t quáº£ cÃ³ thá»ƒ lÃ  chuá»—i rá»—ng hoáº·c giÃ¡ trá»‹ sai.
âœ… DÃ¹ng channel Ä‘á»ƒ Ä‘á»“ng bá»™
go
Sao chÃ©p
Chá»‰nh sá»­a
package main

import (
	"fmt"
)

func main() {
	ch := make(chan string) // ğŸ“¡ Channel kiá»ƒu string

	go func() {
		ch <- "Hello World" // ğŸš€ Gá»­i dá»¯ liá»‡u vÃ o channel
	}()

	fmt.Println(<-ch) // â³ Chá» nháº­n dá»¯ liá»‡u tá»« channel trÆ°á»›c khi tiáº¿p tá»¥c
}
ğŸ”¹ Khi dÃ¹ng channel, main goroutine luÃ´n Ä‘á»£i Ä‘áº¿n khi goroutine khÃ¡c gá»­i dá»¯ liá»‡u, trÃ¡nh lá»—i race condition.

ğŸ¯ TÃ³m táº¯t
âœ… Channel giÃºp goroutine giao tiáº¿p an toÃ n.
âœ… Gá»­i dá»¯ liá»‡u báº±ng channel <- value.
âœ… Nháº­n dá»¯ liá»‡u báº±ng value := <-channel.
âœ… Channel máº·c Ä‘á»‹nh lÃ  blocking, giÃºp Ä‘á»“ng bá»™ goroutine.

ğŸ’¡ Báº¡n cÃ³ thá»ƒ thá»­ xÃ³a <-ch trong vÃ­ dá»¥ trÃªn vÃ  xem chuyá»‡n gÃ¬ xáº£y ra! ğŸš€